<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Capítulo 4 – Análise de dados com R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./references.html" rel="next">
<link href="./class03.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="site_libs/plotly-binding-4.10.4/plotly.js"></script>

<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>

<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>

<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>

<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">

<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>



<link rel="stylesheet" href="style.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./class04.html">Capítulo 4</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Análise de dados com R</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introdução</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./class01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Capítulo 1</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./class02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Capítulo 2</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./class03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Capítulo 3</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./class04.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Capítulo 4</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Referências</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#análise" id="toc-análise" class="nav-link active" data-scroll-target="#análise">Análise</a></li>
  <li><a href="#relações-condicionais" id="toc-relações-condicionais" class="nav-link" data-scroll-target="#relações-condicionais">Relações condicionais</a></li>
  <li><a href="#outras-estruturas-de-dados" id="toc-outras-estruturas-de-dados" class="nav-link" data-scroll-target="#outras-estruturas-de-dados">Outras estruturas de dados</a>
  <ul class="collapse">
  <li><a href="#matrizes" id="toc-matrizes" class="nav-link" data-scroll-target="#matrizes">Matrizes</a></li>
  <li><a href="#listas" id="toc-listas" class="nav-link" data-scroll-target="#listas">Listas</a></li>
  </ul></li>
  <li><a href="#análise-descritiva-de-dados" id="toc-análise-descritiva-de-dados" class="nav-link" data-scroll-target="#análise-descritiva-de-dados">Análise descritiva de dados</a>
  <ul class="collapse">
  <li><a href="#variáveis-métricas-ou-quantitativas" id="toc-variáveis-métricas-ou-quantitativas" class="nav-link" data-scroll-target="#variáveis-métricas-ou-quantitativas">Variáveis métricas ou quantitativas</a></li>
  <li><a href="#variáveis-categóricas" id="toc-variáveis-categóricas" class="nav-link" data-scroll-target="#variáveis-categóricas">Variáveis categóricas</a></li>
  <li><a href="#estilização-de-gráficos-com-ggplot" id="toc-estilização-de-gráficos-com-ggplot" class="nav-link" data-scroll-target="#estilização-de-gráficos-com-ggplot">Estilização de gráficos com GGPlot</a></li>
  <li><a href="#group-by" id="toc-group-by" class="nav-link" data-scroll-target="#group-by">Group by</a></li>
  </ul></li>
  <li><a href="#extra" id="toc-extra" class="nav-link" data-scroll-target="#extra">Extra</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Capítulo 4</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="análise" class="level2">
<h2 class="anchored" data-anchor-id="análise">Análise</h2>
<p>Nos capítulos II e III, vimos as funções mais importantes para o manuseio de bases de dados estruturadas. Agora, iniciaremos o estudo da análise dos dados. Partiremos do ponto mais básico e fundamental que é a descrição. Antes, porém, vamos avançar um pouco mais em comandos e estrutura de dados.</p>
</section>
<section id="relações-condicionais" class="level2">
<h2 class="anchored" data-anchor-id="relações-condicionais">Relações condicionais</h2>
<p>as relações condicionais permitem o retorno de um resultado caso determinada condição seja verificada. A condição a ser verificada pode ser definida com testes lógicos e relacionais (e/ou), conforme veremos adiante. As funções mais usadas para isso são if e else.</p>
<p>A lógica é simples: se uma condição for verdadeira (TRUE), um bloco de código é executado; caso contrário, outra ação pode ser realizada.</p>
<p>No R, a estrutura do comando é a seguinte:</p>
<blockquote class="blockquote">
<blockquote class="blockquote">
<blockquote class="blockquote">
<p>if ( condição ) { # Código executado se a condição for verdadeira } else { # Código executado se a condição for falsa }</p>
</blockquote>
</blockquote>
</blockquote>
<p>Também podemos usar a função <code>ifelse</code></p>
<blockquote class="blockquote">
<blockquote class="blockquote">
<blockquote class="blockquote">
<p>ifelse( test = condição, yes = se a condição for verdadeira, no = se a condição for falsa )</p>
</blockquote>
</blockquote>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>( <span class="dv">2</span> <span class="sc">&gt;</span> <span class="dv">0</span> ) { <span class="fu">print</span>(<span class="st">"Dois é maior que zero"</span>) }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Dois é maior que zero"</code></pre>
</div>
</div>
<p>No exemplo acima, como a condição foi verificada (TRUE), a função retornou o output inserido entre chaves. Caso a condição não tivesse sido verificada, como no exemplo abaixo, não retornaria nenhum valor de output.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>( <span class="dv">0</span> <span class="sc">&gt;</span> <span class="dv">2</span> ) { <span class="fu">print</span>(<span class="st">"Zero é maior do que dois"</span>) }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Para retornar um valor quando a condição não é verificada, temos que incluir a condição <code>else</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>( <span class="dv">0</span> <span class="sc">&gt;</span> <span class="dv">2</span> ) { <span class="fu">print</span>(<span class="st">"Zero é maior do que dois"</span>) } <span class="cf">else</span>{<span class="fu">print</span>(<span class="st">"Zero NÃO É maior do que dois"</span>)}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Zero NÃO É maior do que dois"</code></pre>
</div>
</div>
<p>Agora, vejamos como funciona o comando com a função <code>ifelse</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ifelse</span>(<span class="at">test =</span> <span class="dv">0</span> <span class="sc">&gt;</span> <span class="dv">2</span>,<span class="at">yes =</span> <span class="st">"Zero é maior"</span>, <span class="at">no =</span> <span class="st">"Zero é menor"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Zero é menor"</code></pre>
</div>
</div>
<p>As relações condicionais são fundamentais na análise de dados e programação porque permitem que o programa tome decisões com base em condições específicas. Isso é especialmente útil para manipular dados, personalizar processos e automatizar tarefas. Podemos, por exemplo, utilizar a função para criar variáveis dummies (0/1), caso determinada condição seja verificada.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rio)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>meus.dados <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"G:/Meu Drive/02 - GitHub/R-Intro/A02 - Explore II/0 - data/mydata.RDS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>meus.dados<span class="sc">$</span>exemplo_dummy <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(meus.dados<span class="sc">$</span>gini <span class="sc">&gt;</span> <span class="fl">0.6</span>,</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">yes =</span> <span class="st">"Muito desigual"</span>,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">no =</span> <span class="st">"Desigual"</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>meus.dados[,<span class="fu">c</span>(<span class="st">"uf"</span>,<span class="st">"gini"</span>,<span class="st">"exemplo_dummy"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   uf gini  exemplo_dummy
1  AC 0.63 Muito desigual
2  AL 0.63 Muito desigual
3  AM 0.65 Muito desigual
4  AP 0.60       Desigual
5  BA 0.62 Muito desigual
6  CE 0.61 Muito desigual
7  DF 0.63 Muito desigual
8  ES 0.56       Desigual
9  GO 0.55       Desigual
10 MA 0.62 Muito desigual
11 MG 0.56       Desigual
12 MS 0.56       Desigual
13 MT 0.55       Desigual
14 PA 0.62 Muito desigual
15 PB 0.61 Muito desigual
16 PE 0.62 Muito desigual
17 PI 0.61 Muito desigual
18 PR 0.53       Desigual
19 RJ 0.59       Desigual
20 RN 0.60       Desigual
21 RO 0.56       Desigual
22 RR 0.63 Muito desigual
23 RS 0.54       Desigual
24 SC 0.49       Desigual
25 SE 0.62 Muito desigual
26 SP 0.56       Desigual
27 TO 0.60       Desigual</code></pre>
</div>
</div>
</section>
<section id="outras-estruturas-de-dados" class="level2">
<h2 class="anchored" data-anchor-id="outras-estruturas-de-dados">Outras estruturas de dados</h2>
<p>Até aqui, vimos apenas vetores e data.frames, pois nosso interesse tem sido o manuseio de dados que já estão estruturados com observações nas linhas e variáveis nas colunas. Durante a análise e visualização dos dados, trabalharemos com outras estruturas de dados. Vejamos duas que serão mais frequentes: as matrizes e as listas.</p>
<section id="matrizes" class="level3">
<h3 class="anchored" data-anchor-id="matrizes">Matrizes</h3>
<p><strong>Matriz</strong> é uma estrutura de dados bidimensional que organiza elementos em linhas e colunas, todos do mesmo tipo (geralmente numéricos ou caracteres). É útil para manipular dados tabulares em cálculos matemáticos ou estatísticos.</p>
<p>Para criar uma matriz, usamos a função <code>matrix()</code>, que recebe como argumentos os valores que serão guardados nela, as dimensões da matriz (quantidade de linhas e colunas) e a direção em que os valores serão guardados (se seguindo linhas ou colunas). Vejamos o exemplo abaixo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>minha.matriz <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,<span class="at">nrow=</span><span class="dv">5</span>,<span class="at">ncol =</span> <span class="dv">2</span>,<span class="at">byrow =</span> T)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>minha.matriz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    1    2
[2,]    3    4
[3,]    5    6
[4,]    7    8
[5,]    9   10</code></pre>
</div>
</div>
<p>Note que os valores de 1 a 10 foram despejados na matriz seguindo as linhas. O principal uso de matrizes é para cálculos estatísticos, por isso é fundamental conhecer essa estrutura para a análise de dados. As tabelas de frequência, por exemplo, são geralmente costruídas em um formato semelhante ao da matriz.</p>
</section>
<section id="listas" class="level3">
<h3 class="anchored" data-anchor-id="listas">Listas</h3>
<p>As listas são mais flexíveis e muito úteis na programação. Trata-se de uma estrutura de dados que pode armazenar diferentes tipos de objetos em um único lugar. Isso significa que você pode combinar vetores, matrizes, data frames, ou até mesmo outras listas em um só objeto. Com isso, podemos utilizar as listas para diversos fins, seja para guardar tabelas e gráficos, seja para organizar resultados complexos de análises, como saídas de modelos estatísticos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>minha.lista <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">nomes =</span> <span class="fu">c</span>(<span class="st">"Victor"</span>,<span class="st">"Joana"</span>,<span class="st">"Mateus"</span>,<span class="st">"Karina"</span>),</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">casos =</span> <span class="dv">4</span>,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">mydata =</span> <span class="fu">data.frame</span>(<span class="at">letras=</span>letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>],<span class="at">numeros=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>),</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">matriz =</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">nrow =</span> <span class="dv">4</span>,<span class="at">ncol =</span> <span class="dv">1</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>minha.lista</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$nomes
[1] "Victor" "Joana"  "Mateus" "Karina"

$casos
[1] 4

$mydata
  letras numeros
1      a       1
2      b       2
3      c       3
4      d       4

$matriz
     [,1]
[1,]    1
[2,]    2
[3,]    3
[4,]    4</code></pre>
</div>
</div>
<p>O manuseio das informações guardadas na lista segue a sua complexidade. Para acessar os elementos da lista, é preciso usar dois colchetes [[ ]].</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>minha.lista[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Victor" "Joana"  "Mateus" "Karina"</code></pre>
</div>
</div>
<p>Depois, podemos usar os comandos para localizar as informações guardadas nos elementos da lista. Se o elemento é um vetor, seguimos a localização de valores em um vetor, se é um data.frame, seguimos a do data.frame, conforme abaixo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>minha.lista[[<span class="dv">1</span>]][<span class="dv">2</span>] <span class="co"># segundo valor do vetor guardado</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Joana"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>minha.lista[[<span class="dv">3</span>]][,<span class="dv">1</span>] <span class="co"># primeira coluna da base de dados guardada</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "a" "b" "c" "d"</code></pre>
</div>
</div>
</section>
</section>
<section id="análise-descritiva-de-dados" class="level1">
<h1>Análise descritiva de dados</h1>
<p>A análise de dados com R combina o domínio dos comandos básicos da linguagem, da estatística e das funções aplicadas no R. A estatística é dividida em, pelo menos, duas grandes áreas: i) análise exploratória/descritiva dos dados; ii) análise inferencial/preditiva.​</p>
<p>Usamos a estatística para:</p>
<p><strong>Dar sentido a um conjunto de dados</strong>​</p>
<ul>
<li><p>Descrever​</p></li>
<li><p>Relatar​</p></li>
</ul>
<p><strong>Fazer inferências para populações com base em amostras</strong>​</p>
<ul>
<li><p>Estimar​</p></li>
<li><p>Testar hipóteses​</p></li>
</ul>
<p><strong>Fazer predições</strong>​</p>
<ul>
<li><p>Antecipar ou prever resultados futuros​</p></li>
<li><p>Simular valores não observados na realidade (dados faltantes, contrafactuais etc.)​</p></li>
</ul>
<p>A <strong>classificação</strong> das variáveis orienta todos os procedimentos estatísticos possíveis, desde a análise descritiva exploratória até a parte inferencial. Há técnicas específicas para lidar com cada tipo de variável. Por exemplo, para variáveis que são métricas (numéricas), podemos utilizar medidas de tendência central e de dispersão para descrevê-las. Para variáveis categóricas, no entanto, não podemos calcular as mesmas medidas, o que nos direciona a outras medidas descritivas.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Escala variáveis - Bussab e Morettin.png" class="img-fluid figure-img"></p>
<figcaption>Classificação das variáveis</figcaption>
</figure>
</div>
<p>Uma imagem pode comunicar mais do que mil palavras, e este é o sentido da representação gráfica das nossas variáveis. Por mais que toda a análise estatística tenha um véu de tecnicismo, parte fundamental da narrativa sobre os dados é construída pela apresentação e comunicação. A visualização gráfica da distribuição das variáveis permite uma boa descrição, sendo uma técnica poderosa de explorar as informações. Os bons gráficos guardam a elegância na simplicidade; são capazes de apresentar muita informação de forma concisa, coerente e simples. Os ruins dificultam o entendimento, distorcem informações e enviesam a interpretação.</p>
<p>No R, há uma gramática sofisticada para produção de gráficos com o pacote GGPlot (<em>A Grammar of Graphics</em>). Veremos como usá-la para cada tipo de representação gráfica adequada às variáveis.</p>
<section id="variáveis-métricas-ou-quantitativas" class="level2">
<h2 class="anchored" data-anchor-id="variáveis-métricas-ou-quantitativas">Variáveis métricas ou quantitativas</h2>
<p>As variáveis métricas podem ou quantitativas podem assumir dois tipos principais: <strong>discreta</strong> (valores inteiros) e <strong>contínua</strong> (valores quebrados, com casas decimais). Há também um tipo específico chamado de <strong>intervalar</strong>, para classificar a variável quando ela não possui um zero absoluto - é o caso de temperatura, valores monetários, etc.</p>
<p>Para todas as variáveis métricas, as medidas descritivas são as de tendência central (média, mediana e moda) e as de dispersão (amplitude, variância e desvio-padrão). Também estão inclusos entre as descritivas os quantis. Todas essas medidas podem ser obtidas com funções de base do R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>var_metrica_continua <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">77.2</span>,<span class="fl">60.1</span>,<span class="fl">55.4</span>,<span class="fl">22.6</span>,<span class="fl">10.2</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>var_metrica_continua</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 77.2 60.1 55.4 22.6 10.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>var_metrica_discreta <span class="ot">&lt;-</span> <span class="fu">round</span>(var_metrica_continua)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>var_metrica_discreta</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 77 60 55 23 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Média</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(var_metrica_continua)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 45.1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mediana</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(var_metrica_continua)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 55.4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Quantis</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(<span class="at">x =</span> var_metrica_continua, <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.25</span>,<span class="fl">0.5</span>,<span class="fl">0.75</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 25%  50%  75% 
22.6 55.4 60.1 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Amplitude</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(var_metrica_continua)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10.2 77.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Variância</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(var_metrica_continua)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 771.44</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Desvio-padrão</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(var_metrica_continua)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 27.77481</code></pre>
</div>
</div>
<p>As principais medidas descritivas das variáveis podem ser obtidas também com a função <code>summary</code>, que retorna um sumário descritivo da variável.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(var_metrica_continua)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   10.2    22.6    55.4    45.1    60.1    77.2 </code></pre>
</div>
</div>
<p>Outra boa função para a descrição de variáveis métricas é a função <code>describe</code> do pacote <strong>psych</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">describe</span>(var_metrica_continua)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   vars n mean    sd median trimmed   mad  min  max range  skew kurtosis    se
X1    1 5 45.1 27.77   55.4    45.1 32.32 10.2 77.2    67 -0.15    -2.04 12.42</code></pre>
</div>
</div>
<p>Conforme vimos, uma imagem pode falar mais que mil palavras e, neste sentido, os gráficos podem nos auxiliar a descrever nossas variáveis. O tipo de gráfico adequado muda conforme a classificação da variável. Para ilustrar a frequência da ocorrêcia de cada valor, por exemplo, podemos utilizar barras para as métricas discretas e histogramas para as métricas contínuas. A diferença é sutil e fundamental: para dar noção de continuidade nos dados, as barras são coladas umas nas outras para a representação dos histogramas. Por outro lado, para dar a noção de limite entre os valores discretos, as barras são separadas uma das outras.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualização de variáveis métricas</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ ggplot2::%+%()   masks psych::%+%()
✖ ggplot2::alpha() masks psych::alpha()
✖ dplyr::filter()  masks stats::filter()
✖ dplyr::lag()     masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Discreta&gt; barras</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>meus.dados <span class="sc">%&gt;%</span> </span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>code_region))<span class="sc">+</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="class04_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Contínua 1: histograma</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>meus.dados <span class="sc">%&gt;%</span> </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>rpct))<span class="sc">+</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="class04_files/figure-html/unnamed-chunk-14-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Há vários parâmetros que podemos ajustar na geração de gráficos com o GGPlot, alguns mais técnicos de representação, outros mais artísticos de estilo. Por hora, precisamos saber apenas que o GGplot recebe um dado de referência (antes do <em>pipe</em>), uma primeira camada (layer) com as variáveis (aesthetic - aes), e outra camada com o tipo de representação a ser produzida (barra, hisgrama etc.).</p>
<p>A camada com o tipo da representação recebe os principais parâmetros técnicos do gráfico. Por exemplo, para o histograma, podemos definir a quantidade de barras (bins), que indicará as faixas de agregação dos valores contínuos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(meus.dados<span class="sc">$</span>rpct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  360.3   509.4   599.0   697.0   813.2  1715.1 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Contínua 1: histograma</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>meus.dados <span class="sc">%&gt;%</span> </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>rpct))<span class="sc">+</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="class04_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Há outras possibilidades de representação de variáveis métricas contínuas. Podemos utilizar também o boxplot e o gráfico de desidade.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Contínua 1: boxplot</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>meus.dados <span class="sc">%&gt;%</span> </span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>rpct))<span class="sc">+</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="class04_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Contínua 1: boxplot</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>meus.dados <span class="sc">%&gt;%</span> </span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>rpct))<span class="sc">+</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="class04_files/figure-html/unnamed-chunk-16-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>O <strong>boxplot</strong> é um gráfico que resume a distribuição de dados contínuos usando cinco estatísticas principais: mínimo, primeiro quartil (Q1), mediana, terceiro quartil (Q3) e máximo, além de identificar outliers, que são as observações que distoam das medidas centrais.</p>
<p>Já o <strong>gráfico de densidade</strong> representa a distribuição de uma variável contínua de forma suave, indicando concentrações e padrões, como assimetrias ou múltiplos picos. Ambos são ferramentas complementares para explorar distribuições de dados e identificar padrões de forma intuitiva. O valor da densidade representado no gráfico é calculado usando a estimativa de densidade kernel (KDE - Kernel Density Estimation). Esse método cria uma função suave que aproxima a distribuição de probabilidade dos dados.</p>
</section>
<section id="variáveis-categóricas" class="level2">
<h2 class="anchored" data-anchor-id="variáveis-categóricas">Variáveis categóricas</h2>
<p>As variáveis categóricas também podem assumir dois tipos principais: as nominais e as ordinais. A diferença entre elas é que a segunda possui alguma ordem implícita às categorias. Além disso, elas podem ser também classificadas como dicotômicas, quando há apenas duas categorias, ou politômicas, quando há três ou mais.</p>
<p>Para todas as variáveis categóricas, a única e principal forma de descrição é a tabela de frequência, que pode ser tanto uma frequência absoluta pela contagem de casos, quanto uma frequência relativa pela razão entre a contagem de casos e o total.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tabela de frequência</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(meus.dados<span class="sc">$</span>exemplo_dummy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
      Desigual Muito desigual 
            14             13 </code></pre>
</div>
</div>
<p>A função <code>table</code> também recebe argumentos de definição da tabela. Podemos optar por incluir ou não os valores ausentes (NAs) e os totais.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(meus.dados<span class="sc">$</span>exemplo_dummy,<span class="at">useNA =</span> <span class="st">"ifany"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addmargins</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
      Desigual Muito desigual            Sum 
            14             13             27 </code></pre>
</div>
</div>
<p>podemos também calcular a frequência relativa combinando a função table com a função prop.table.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(meus.dados<span class="sc">$</span>exemplo_dummy) <span class="sc">%&gt;%</span> </span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prop.table</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addmargins</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
      Desigual Muito desigual            Sum 
     0.5185185      0.4814815      1.0000000 </code></pre>
</div>
</div>
<p>A função do R base para gerar tabelas não é muito boa no quesito formatação. O resultado que retorna é um dado estruturado no formato de tabela, semelhante ao formato de matriz. Há, porém, outros pacotes que auxiliam na geração de tabelas, como veremos mais a frente.</p>
<p>Há diversas possibilidades de representação gráfica de variáveis categóricas. A mais simples e comum é a de barras. A única condição a ser respeitada é seguir a ordem quando houver, em variáveis que forem do tipo ordinal. A sintaxe é a mesma para métricas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Variáveis categóricas nominais</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>meus.dados <span class="sc">%&gt;%</span> </span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> name_region))<span class="sc">+</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="class04_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Variáveis categóricas ordinais</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>meus.dados <span class="sc">%&gt;%</span> </span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> exemplo_dummy))<span class="sc">+</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="class04_files/figure-html/unnamed-chunk-20-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Essas são as principais medidas descritivas de dados, usuais para a primeira análise univariada. Desde esse ponto mais básico, é fundamental o desenvolvimento de um olhar técnico, entendendo quais tipos de medidas podem ser utilizadas a depender do tipo de variável.</p>
</section>
<section id="estilização-de-gráficos-com-ggplot" class="level2">
<h2 class="anchored" data-anchor-id="estilização-de-gráficos-com-ggplot">Estilização de gráficos com GGPlot</h2>
<p>Agora que vimos as medidas descritivas, podemos explorar melhor a visualização com o GGPlot. A lógica da gramática deste pacote é a de desenho por camadas. As primeiras, como vimos, é o setup do gráfico, com dados, variáveis e especificação do gráfico. Depois, podemos definir as camadas dos eixos, e uma última camada para definir um tema de design para o gráfico, conforme abaixo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>plt1 <span class="ot">=</span> meus.dados <span class="sc">%&gt;%</span> </span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> name_region))<span class="sc">+</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill=</span><span class="st">"steelblue"</span>)</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">=</span> plt1 <span class="sc">+</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">name=</span><span class="st">"Regiões do Brasil"</span>)<span class="sc">+</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name=</span><span class="st">"Frequêcia absoluta"</span>,</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">10</span>),</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">10</span>,<span class="fl">2.5</span>))<span class="sc">+</span></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="class04_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Repare que guardamos o gráfico em um objeto no R, ao qual fomos adicionando novas camadas. Há um universo a ser explorado em termos de representação gráfica e estilos com o GGPlot. Além das ferramentas auxiliares de IA generativa, como o chatGPT, temos as antigas colinhas na aba de Help &gt; Cheetsheats &gt; Data visualization with ggplot2.</p>
</section>
<section id="group-by" class="level2">
<h2 class="anchored" data-anchor-id="group-by">Group by</h2>
<p>A função <strong><code>group_by()</code></strong> em R, do pacote <strong>dplyr</strong>, é utilizada para agrupar os dados de um <strong>data frame</strong> com base em uma ou mais variáveis. Isso permite realizar operações de agregação, como cálculo de médias ou somas, por grupo. Após agrupar os dados com <strong><code>group_by()</code></strong>, você pode aplicar funções de agregação, como <strong><code>summarize()</code></strong>, para obter resumos dos dados por grupo.</p>
<p>Exemplo: agrupar os dados por uma variável e calcular a média de outra.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>meus.dados <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">!</span>geometry) <span class="sc">%&gt;%</span> </span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(name_region) <span class="sc">%&gt;%</span> </span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>( <span class="at">m_rpct =</span> <span class="fu">mean</span>(rpct))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  name_region  m_rpct
  &lt;chr&gt;         &lt;dbl&gt;
1 Centro Oeste  1022.
2 Nordeste       471.
3 Norte          567.
4 Sudeste        922.
5 Sul            945.</code></pre>
</div>
</div>
</section>
</section>
<section id="extra" class="level1">
<h1>Extra</h1>
<p>O pacote plotly, que funciona tanto com R quanto com Python, oferece uma biblioteca muito funcional para gráficos 3d. Além de criar gráficos, podemos converter os que geramos com GGPlot para gráficos interativos, usando a função <code>ggplotly</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Anexando pacote: 'plotly'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>O seguinte objeto é mascarado por 'package:ggplot2':

    last_plot</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>O seguinte objeto é mascarado por 'package:rio':

    export</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>O seguinte objeto é mascarado por 'package:stats':

    filter</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>O seguinte objeto é mascarado por 'package:graphics':

    layout</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(plt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-0eb9765bb6a7c204912c" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-0eb9765bb6a7c204912c">{"x":{"data":[{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[0,0,0,0,0],"x":[1,2,3,4,5],"y":[4,9,7,4,3],"text":["count: 4<br />name_region: Centro Oeste","count: 9<br />name_region: Nordeste","count: 7<br />name_region: Norte","count: 4<br />name_region: Sudeste","count: 3<br />name_region: Sul"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.228310502283104,"r":7.3059360730593621,"b":40.182648401826491,"l":48.949771689497723},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,5.5999999999999996],"tickmode":"array","ticktext":["Centro Oeste","Nordeste","Norte","Sudeste","Sul"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["Centro Oeste","Nordeste","Norte","Sudeste","Sul"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Regiões do Brasil","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.5,10.5],"tickmode":"array","ticktext":["0.0","2.5","5.0","7.5","10.0"],"tickvals":[0,2.5,5,7.5,10],"categoryorder":"array","categoryarray":["0.0","2.5","5.0","7.5","10.0"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Frequêcia absoluta","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"8e1c4edb4e6d":{"x":{},"type":"bar"}},"cur_data":"8e1c4edb4e6d","visdat":{"8e1c4edb4e6d":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Também podemos explorar visualizações com mais de duas dimensões.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criar o gráfico 3D</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(meus.dados, </span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">x =</span> <span class="sc">~</span>prop_renda_10_ricos, </span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="sc">~</span>gini, </span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">z =</span> <span class="sc">~</span>rpct, </span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">type =</span> <span class="st">'scatter3d'</span>, </span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">mode =</span> <span class="st">'markers'</span>, </span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">color =</span> <span class="sc">~</span>rpct, <span class="at">colorscale =</span> <span class="st">'Heat'</span>, <span class="at">showscale =</span> <span class="cn">TRUE</span>)) </span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Personalizar o layout</span></span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> fig <span class="sc">%&gt;%</span> <span class="fu">layout</span>(</span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"Gráfico 3D: p_renda_10_ricos vs Gini vs RPCT"</span>,</span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">scene =</span> <span class="fu">list</span>(</span>
<span id="cb69-14"><a href="#cb69-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">'p_renda_10_ricos'</span>),</span>
<span id="cb69-15"><a href="#cb69-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">'Gini'</span>),</span>
<span id="cb69-16"><a href="#cb69-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">zaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">'RPCT'</span>)</span>
<span id="cb69-17"><a href="#cb69-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb69-18"><a href="#cb69-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb69-19"><a href="#cb69-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-20"><a href="#cb69-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Exibir o gráfico</span></span>
<span id="cb69-21"><a href="#cb69-21" aria-hidden="true" tabindex="-1"></a>fig</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-68d60241970911fadaa4" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-68d60241970911fadaa4">{"x":{"visdat":{"8e1c34182bf4":["function () ","plotlyVisDat"]},"cur_data":"8e1c34182bf4","attrs":{"8e1c34182bf4":{"x":{},"y":{},"z":{},"mode":"markers","marker":{"size":5,"color":{},"colorscale":"Heat","showscale":true},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter3d"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Gráfico 3D: p_renda_10_ricos vs Gini vs RPCT","scene":{"xaxis":{"title":"p_renda_10_ricos"},"yaxis":{"title":"Gini"},"zaxis":{"title":"RPCT"}},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[50.560000000000002,51.759999999999998,53.640000000000001,47.439999999999998,51.049999999999997,50.759999999999998,49.259999999999998,45.869999999999997,45.75,50.060000000000002,45.979999999999997,45.670000000000002,44.740000000000002,50.170000000000002,50.25,52.57,49.909999999999997,43.859999999999999,49.329999999999998,49.439999999999998,44.719999999999999,49.850000000000001,43.899999999999999,39.43,51.280000000000001,46.869999999999997,49.030000000000001],"y":[0.63,0.63,0.65000000000000002,0.59999999999999998,0.62,0.60999999999999999,0.63,0.56000000000000005,0.55000000000000004,0.62,0.56000000000000005,0.56000000000000005,0.55000000000000004,0.62,0.60999999999999999,0.62,0.60999999999999999,0.53000000000000003,0.58999999999999997,0.59999999999999998,0.56000000000000005,0.63,0.54000000000000004,0.48999999999999999,0.62,0.56000000000000005,0.59999999999999998],"z":[522.14999999999998,432.56,539.79999999999995,598.98000000000002,496.73000000000002,460.63,1715.1099999999999,815.42999999999995,810.97000000000003,360.33999999999997,749.69000000000005,799.34000000000003,762.51999999999998,446.75999999999999,474.94,525.63999999999999,416.93000000000001,890.88999999999999,1039.3,545.41999999999996,670.82000000000005,605.59000000000003,959.24000000000001,983.89999999999998,523.52999999999997,1084.46,586.62],"mode":"markers","marker":{"color":[522.14999999999998,432.56,539.79999999999995,598.98000000000002,496.73000000000002,460.63,1715.1099999999999,815.42999999999995,810.97000000000003,360.33999999999997,749.69000000000005,799.34000000000003,762.51999999999998,446.75999999999999,474.94,525.63999999999999,416.93000000000001,890.88999999999999,1039.3,545.41999999999996,670.82000000000005,605.59000000000003,959.24000000000001,983.89999999999998,523.52999999999997,1084.46,586.62],"size":5,"colorscale":"Heat","showscale":true,"line":{"color":"rgba(31,119,180,1)"}},"type":"scatter3d","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>meus.dados <span class="ot">&lt;-</span> meus.dados <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(.,</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">renda =</span> <span class="fu">cut</span>(rpct,</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">600</span>,<span class="dv">900</span>,<span class="fu">max</span>(rpct)),</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"RPCT baixa"</span>,<span class="st">"RPCT média"</span>,<span class="st">"RPCT alta"</span>)</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>                                      )</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>                          )</span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>meus.dados <span class="ot">&lt;-</span> meus.dados <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(renda,<span class="at">.after =</span> rpct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Preparar os dados para o gráfico</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>meus.dados <span class="ot">&lt;-</span> meus.dados <span class="sc">%&gt;%</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop_pop_urb =</span> (pop_urb <span class="sc">/</span> pop) <span class="sc">*</span> <span class="dv">100</span> ) <span class="co"># Calcula a proporção da população urbana</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Criar o gráfico de dispersão</span></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>plt1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(meus.dados, <span class="fu">aes</span>(<span class="at">y =</span> prop_renda_40_pobres, <span class="at">x =</span> rpct, <span class="at">label =</span> uf)) <span class="sc">+</span></span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>,<span class="at">formula =</span> y<span class="sc">~</span>x,<span class="at">alpha=</span>.<span class="dv">2</span>,<span class="at">col=</span><span class="st">"grey"</span>)<span class="sc">+</span></span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> gini, <span class="at">color =</span> <span class="sc">-</span>gini), <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">vjust =</span> <span class="sc">-</span><span class="fl">1.5</span>,<span class="at">hjust=</span>.<span class="dv">5</span>, <span class="at">size =</span> <span class="dv">2</span>,<span class="at">fontface=</span><span class="st">"bold"</span>) <span class="sc">+</span> <span class="co"># Adiciona as siglas das UFs</span></span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">15</span>),<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">5</span>,<span class="dv">20</span>,<span class="fl">2.5</span>))<span class="sc">+</span></span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Desigualdade de renda por UF"</span>,</span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Censo Demográfico, Brasil, 2010"</span>,</span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Proporção da renda acumulada pelos 40% Mais Pobres"</span>,</span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Média da Renda Per Capta (R$)"</span>,</span>
<span id="cb71-16"><a href="#cb71-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="st">"Índice Gini"</span>,</span>
<span id="cb71-17"><a href="#cb71-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Índice Gini"</span>,</span>
<span id="cb71-18"><a href="#cb71-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"     Fonte: basedosdados.org"</span></span>
<span id="cb71-19"><a href="#cb71-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb71-20"><a href="#cb71-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb71-21"><a href="#cb71-21" aria-hidden="true" tabindex="-1"></a>plt1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="class04_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotly para gráficos interativos</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("plotly")</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>plt2 <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(plt1)</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>plt2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-40ce6755dc0705c5817c" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-40ce6755dc0705c5817c">{"x":{"data":[{"x":[360.33999999999997,377.48898734177214,394.63797468354426,411.78696202531643,428.9359493670886,446.08493670886071,463.23392405063288,480.38291139240505,497.53189873417716,514.68088607594927,531.8298734177215,548.97886075949361,566.12784810126573,583.27683544303795,600.42582278481007,617.57481012658218,634.72379746835441,651.87278481012663,669.02177215189863,686.17075949367086,703.31974683544308,720.46873417721508,737.61772151898731,754.76670886075954,771.91569620253154,789.06468354430376,806.21367088607599,823.3626582278481,840.51164556962021,857.66063291139244,874.80962025316444,891.95860759493667,909.10759493670889,926.25658227848089,943.40556962025312,960.55455696202534,977.70354430379734,994.85253164556957,1012.0015189873418,1029.1505063291138,1046.299493670886,1063.4484810126582,1080.5974683544302,1097.7464556962025,1114.8954430379747,1132.0444303797467,1149.1934177215189,1166.3424050632912,1183.4913924050632,1200.6403797468354,1217.7893670886076,1234.9383544303798,1252.0873417721518,1269.2363291139241,1286.3853164556963,1303.5343037974683,1320.6832911392405,1337.8322784810127,1354.9812658227847,1372.130253164557,1389.279240506329,1406.4282278481012,1423.5772151898734,1440.7262025316454,1457.8751898734176,1475.0241772151899,1492.1731645569619,1509.3221518987341,1526.4711392405063,1543.6201265822783,1560.7691139240505,1577.9181012658228,1595.0670886075948,1612.216075949367,1629.3650632911392,1646.5140506329112,1663.6630379746834,1680.8120253164557,1697.9610126582277,1715.1099999999999],"y":[8.039831824828342,8.085386826731213,8.130941828634084,8.1764968305369568,8.2220518324398277,8.2676068343426987,8.3131618362455697,8.3587168381484425,8.4042718400513134,8.4498268419541844,8.4953818438570554,8.5409368457599264,8.5864918476627992,8.6320468495656701,8.6776018514685411,8.7231568533714121,8.7687118552742849,8.8142668571771559,8.8598218590800268,8.9053768609828978,8.9509318628857706,8.9964868647886416,9.0420418666915126,9.0875968685943835,9.1331518704972545,9.1787068724001273,9.2242618743029983,9.2698168762058692,9.3153718781087402,9.360926880011613,9.406481881914484,9.452036883817355,9.4975918857202259,9.5431468876230969,9.5887018895259697,9.6342568914288407,9.6798118933317117,9.7253668952345826,9.7709218971374554,9.8164768990403264,9.8620319009431974,9.9075869028460701,9.9531419047489393,9.9986969066518121,10.044251908554683,10.089806910457554,10.135361912360427,10.180916914263298,10.226471916166169,10.27202691806904,10.317581919971911,10.363136921874784,10.408691923777655,10.454246925680525,10.499801927583398,10.545356929486267,10.59091193138914,10.636466933292011,10.682021935194882,10.727576937097755,10.773131939000624,10.818686940903497,10.864241942806368,10.909796944709239,10.955351946612112,11.000906948514983,11.046461950417854,11.092016952320725,11.137571954223596,11.183126956126468,11.228681958029339,11.27423695993221,11.319791961835081,11.365346963737952,11.410901965640825,11.456456967543696,11.502011969446567,11.54756697134944,11.593121973252309,11.638676975155182],"text":["rpct:  360.3400<br />prop_renda_40_pobres:  8.039832","rpct:  377.4890<br />prop_renda_40_pobres:  8.085387","rpct:  394.6380<br />prop_renda_40_pobres:  8.130942","rpct:  411.7870<br />prop_renda_40_pobres:  8.176497","rpct:  428.9359<br />prop_renda_40_pobres:  8.222052","rpct:  446.0849<br />prop_renda_40_pobres:  8.267607","rpct:  463.2339<br />prop_renda_40_pobres:  8.313162","rpct:  480.3829<br />prop_renda_40_pobres:  8.358717","rpct:  497.5319<br />prop_renda_40_pobres:  8.404272","rpct:  514.6809<br />prop_renda_40_pobres:  8.449827","rpct:  531.8299<br />prop_renda_40_pobres:  8.495382","rpct:  548.9789<br />prop_renda_40_pobres:  8.540937","rpct:  566.1278<br />prop_renda_40_pobres:  8.586492","rpct:  583.2768<br />prop_renda_40_pobres:  8.632047","rpct:  600.4258<br />prop_renda_40_pobres:  8.677602","rpct:  617.5748<br />prop_renda_40_pobres:  8.723157","rpct:  634.7238<br />prop_renda_40_pobres:  8.768712","rpct:  651.8728<br />prop_renda_40_pobres:  8.814267","rpct:  669.0218<br />prop_renda_40_pobres:  8.859822","rpct:  686.1708<br />prop_renda_40_pobres:  8.905377","rpct:  703.3197<br />prop_renda_40_pobres:  8.950932","rpct:  720.4687<br />prop_renda_40_pobres:  8.996487","rpct:  737.6177<br />prop_renda_40_pobres:  9.042042","rpct:  754.7667<br />prop_renda_40_pobres:  9.087597","rpct:  771.9157<br />prop_renda_40_pobres:  9.133152","rpct:  789.0647<br />prop_renda_40_pobres:  9.178707","rpct:  806.2137<br />prop_renda_40_pobres:  9.224262","rpct:  823.3627<br />prop_renda_40_pobres:  9.269817","rpct:  840.5116<br />prop_renda_40_pobres:  9.315372","rpct:  857.6606<br />prop_renda_40_pobres:  9.360927","rpct:  874.8096<br />prop_renda_40_pobres:  9.406482","rpct:  891.9586<br />prop_renda_40_pobres:  9.452037","rpct:  909.1076<br />prop_renda_40_pobres:  9.497592","rpct:  926.2566<br />prop_renda_40_pobres:  9.543147","rpct:  943.4056<br />prop_renda_40_pobres:  9.588702","rpct:  960.5546<br />prop_renda_40_pobres:  9.634257","rpct:  977.7035<br />prop_renda_40_pobres:  9.679812","rpct:  994.8525<br />prop_renda_40_pobres:  9.725367","rpct: 1012.0015<br />prop_renda_40_pobres:  9.770922","rpct: 1029.1505<br />prop_renda_40_pobres:  9.816477","rpct: 1046.2995<br />prop_renda_40_pobres:  9.862032","rpct: 1063.4485<br />prop_renda_40_pobres:  9.907587","rpct: 1080.5975<br />prop_renda_40_pobres:  9.953142","rpct: 1097.7465<br />prop_renda_40_pobres:  9.998697","rpct: 1114.8954<br />prop_renda_40_pobres: 10.044252","rpct: 1132.0444<br />prop_renda_40_pobres: 10.089807","rpct: 1149.1934<br />prop_renda_40_pobres: 10.135362","rpct: 1166.3424<br />prop_renda_40_pobres: 10.180917","rpct: 1183.4914<br />prop_renda_40_pobres: 10.226472","rpct: 1200.6404<br />prop_renda_40_pobres: 10.272027","rpct: 1217.7894<br />prop_renda_40_pobres: 10.317582","rpct: 1234.9384<br />prop_renda_40_pobres: 10.363137","rpct: 1252.0873<br />prop_renda_40_pobres: 10.408692","rpct: 1269.2363<br />prop_renda_40_pobres: 10.454247","rpct: 1286.3853<br />prop_renda_40_pobres: 10.499802","rpct: 1303.5343<br />prop_renda_40_pobres: 10.545357","rpct: 1320.6833<br />prop_renda_40_pobres: 10.590912","rpct: 1337.8323<br />prop_renda_40_pobres: 10.636467","rpct: 1354.9813<br />prop_renda_40_pobres: 10.682022","rpct: 1372.1303<br />prop_renda_40_pobres: 10.727577","rpct: 1389.2792<br />prop_renda_40_pobres: 10.773132","rpct: 1406.4282<br />prop_renda_40_pobres: 10.818687","rpct: 1423.5772<br />prop_renda_40_pobres: 10.864242","rpct: 1440.7262<br />prop_renda_40_pobres: 10.909797","rpct: 1457.8752<br />prop_renda_40_pobres: 10.955352","rpct: 1475.0242<br />prop_renda_40_pobres: 11.000907","rpct: 1492.1732<br />prop_renda_40_pobres: 11.046462","rpct: 1509.3222<br />prop_renda_40_pobres: 11.092017","rpct: 1526.4711<br />prop_renda_40_pobres: 11.137572","rpct: 1543.6201<br />prop_renda_40_pobres: 11.183127","rpct: 1560.7691<br />prop_renda_40_pobres: 11.228682","rpct: 1577.9181<br />prop_renda_40_pobres: 11.274237","rpct: 1595.0671<br />prop_renda_40_pobres: 11.319792","rpct: 1612.2161<br />prop_renda_40_pobres: 11.365347","rpct: 1629.3651<br />prop_renda_40_pobres: 11.410902","rpct: 1646.5141<br />prop_renda_40_pobres: 11.456457","rpct: 1663.6630<br />prop_renda_40_pobres: 11.502012","rpct: 1680.8120<br />prop_renda_40_pobres: 11.547567","rpct: 1697.9610<br />prop_renda_40_pobres: 11.593122","rpct: 1715.1100<br />prop_renda_40_pobres: 11.638677"],"type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.7795275590551185,"color":"rgba(190,190,190,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[360.33999999999997,377.48898734177214,394.63797468354426,411.78696202531643,428.9359493670886,446.08493670886071,463.23392405063288,480.38291139240505,497.53189873417716,514.68088607594927,531.8298734177215,548.97886075949361,566.12784810126573,583.27683544303795,600.42582278481007,617.57481012658218,634.72379746835441,651.87278481012663,669.02177215189863,686.17075949367086,703.31974683544308,720.46873417721508,737.61772151898731,754.76670886075954,771.91569620253154,789.06468354430376,806.21367088607599,823.3626582278481,840.51164556962021,857.66063291139244,874.80962025316444,891.95860759493667,909.10759493670889,926.25658227848089,943.40556962025312,960.55455696202534,977.70354430379734,994.85253164556957,1012.0015189873418,1029.1505063291138,1046.299493670886,1063.4484810126582,1080.5974683544302,1097.7464556962025,1114.8954430379747,1132.0444303797467,1149.1934177215189,1166.3424050632912,1183.4913924050632,1200.6403797468354,1217.7893670886076,1234.9383544303798,1252.0873417721518,1269.2363291139241,1286.3853164556963,1303.5343037974683,1320.6832911392405,1337.8322784810127,1354.9812658227847,1372.130253164557,1389.279240506329,1406.4282278481012,1423.5772151898734,1440.7262025316454,1457.8751898734176,1475.0241772151899,1492.1731645569619,1509.3221518987341,1526.4711392405063,1543.6201265822783,1560.7691139240505,1577.9181012658228,1595.0670886075948,1612.216075949367,1629.3650632911392,1646.5140506329112,1663.6630379746834,1680.8120253164557,1697.9610126582277,1715.1099999999999,1715.1099999999999,1715.1099999999999,1697.9610126582277,1680.8120253164557,1663.6630379746834,1646.5140506329112,1629.3650632911392,1612.216075949367,1595.0670886075948,1577.9181012658228,1560.7691139240505,1543.6201265822783,1526.4711392405063,1509.3221518987341,1492.1731645569619,1475.0241772151899,1457.8751898734176,1440.7262025316454,1423.5772151898734,1406.4282278481012,1389.279240506329,1372.130253164557,1354.9812658227847,1337.8322784810127,1320.6832911392405,1303.5343037974683,1286.3853164556963,1269.2363291139241,1252.0873417721518,1234.9383544303798,1217.7893670886076,1200.6403797468354,1183.4913924050632,1166.3424050632912,1149.1934177215189,1132.0444303797467,1114.8954430379747,1097.7464556962025,1080.5974683544302,1063.4484810126582,1046.299493670886,1029.1505063291138,1012.0015189873418,994.85253164556957,977.70354430379734,960.55455696202534,943.40556962025312,926.25658227848089,909.10759493670889,891.95860759493667,874.80962025316444,857.66063291139244,840.51164556962021,823.3626582278481,806.21367088607599,789.06468354430376,771.91569620253154,754.76670886075954,737.61772151898731,720.46873417721508,703.31974683544308,686.17075949367086,669.02177215189863,651.87278481012663,634.72379746835441,617.57481012658218,600.42582278481007,583.27683544303795,566.12784810126573,548.97886075949361,531.8298734177215,514.68088607594927,497.53189873417716,480.38291139240505,463.23392405063288,446.08493670886071,428.9359493670886,411.78696202531643,394.63797468354426,377.48898734177214,360.33999999999997,360.33999999999997],"y":[6.9893690588430424,7.0658601751062058,7.1416265803183538,7.2165998442668498,7.2907048055615782,7.3638591697683555,7.4359732051653973,7.5069495904257231,7.576683481859833,7.6450628806219765,7.7119693900192017,7.777279456139758,7.8408661767401604,7.9026017384844573,7.9623604967176886,8.0200226431842747,8.0754783188312995,8.1286319316613191,8.1794063517250937,8.2277465999001027,8.2736226459506188,8.3170309968475511,8.3579948842860965,8.3965630283807258,8.4328071275120475,8.4668183654991509,8.4987033101522549,8.5285795928131751,8.5565717152895875,8.582807248835616,8.6074135930475872,8.6305153706188431,8.652232459471616,8.6726786119398938,8.6919605807203038,8.7101776592251223,8.7274215445849208,8.7437764399499187,8.7593193250025401,8.7741203369570329,8.7882432170717681,8.8017457889302104,8.8146804441069442,8.8270946183168828,8.8390312469245043,8.8505291930216963,8.8616236444380583,8.8723464782794998,8.8827265931172352,8.8927902099492773,8.9025611436727417,8.9120610471474606,8.9213096300827459,8.9303248550014835,8.9391231124736485,8.9477193776973305,8.9561273503620171,8.9643595795715605,8.972427575443982,8.9803419088481853,8.9881123005886074,8.9957477012098206,9.0032563624652795,9.0106459013785472,9.0179233577204432,9.0250952456319453,9.0321676000389246,9.0391460184304613,9.0460356985066177,9.0528414721432036,9.0595678360696077,9.0662189796103654,9.0727988098009931,9.0793109741534241,9.0857588813151651,9.0921457198389266,9.0984744752553013,9.1047479456196854,9.1109687556858745,9.1171393698421745,9.1171393698421745,14.160214580468189,14.075275190818743,13.990385997079194,13.905549463637833,13.820768215248465,13.736045049966485,13.65138295332248,13.56678511386917,13.482254940254055,13.397796079989071,13.313412440109733,13.229108209940573,13.144887886210988,13.060756300796783,12.97671865139802,12.89278053550378,12.808947988039931,12.725227523147456,12.641626180597173,12.558151577412641,12.474811965347325,12.391616294945782,12.308574287012462,12.225696512416263,12.142994481275204,12.060480742693148,11.978168996359567,11.896074217472563,11.814212796602106,11.73260269627108,11.651263626188802,11.570217239215102,11.489487350247096,11.409100180282795,11.329084627893412,11.249472570184862,11.170299194986741,11.091603365390934,11.01342801676193,10.935820584814627,10.85883346112362,10.782524469272371,10.706957350519247,10.632202242078503,10.558336123632559,10.485443198331636,10.4136151633063,10.342951311968836,10.273558397015867,10.205550170781381,10.13904651118761,10.074172040927893,10.011054159598563,9.9498204384537416,9.8905953793011037,9.8334966134824615,9.7786307088080413,9.7260888490969286,9.675942732729732,9.6282410798209224,9.5830071220656929,9.54023736643496,9.4999017826929926,9.4619453917172702,9.4262910635585495,9.3928432062193945,9.3614919606468838,9.3321175185854379,9.3045942353800939,9.2787942976949083,9.2545908032863924,9.2318601982427939,9.2104840858711619,9.190350467325743,9.1713544989170419,9.1533988593180773,9.1363938168070629,9.1202570769498141,9.1049134783562202,9.0902945908136417,6.9893690588430424],"text":["rpct:  360.3400<br />prop_renda_40_pobres:  8.039832","rpct:  377.4890<br />prop_renda_40_pobres:  8.085387","rpct:  394.6380<br />prop_renda_40_pobres:  8.130942","rpct:  411.7870<br />prop_renda_40_pobres:  8.176497","rpct:  428.9359<br />prop_renda_40_pobres:  8.222052","rpct:  446.0849<br />prop_renda_40_pobres:  8.267607","rpct:  463.2339<br />prop_renda_40_pobres:  8.313162","rpct:  480.3829<br />prop_renda_40_pobres:  8.358717","rpct:  497.5319<br />prop_renda_40_pobres:  8.404272","rpct:  514.6809<br />prop_renda_40_pobres:  8.449827","rpct:  531.8299<br />prop_renda_40_pobres:  8.495382","rpct:  548.9789<br />prop_renda_40_pobres:  8.540937","rpct:  566.1278<br />prop_renda_40_pobres:  8.586492","rpct:  583.2768<br />prop_renda_40_pobres:  8.632047","rpct:  600.4258<br />prop_renda_40_pobres:  8.677602","rpct:  617.5748<br />prop_renda_40_pobres:  8.723157","rpct:  634.7238<br />prop_renda_40_pobres:  8.768712","rpct:  651.8728<br />prop_renda_40_pobres:  8.814267","rpct:  669.0218<br />prop_renda_40_pobres:  8.859822","rpct:  686.1708<br />prop_renda_40_pobres:  8.905377","rpct:  703.3197<br />prop_renda_40_pobres:  8.950932","rpct:  720.4687<br />prop_renda_40_pobres:  8.996487","rpct:  737.6177<br />prop_renda_40_pobres:  9.042042","rpct:  754.7667<br />prop_renda_40_pobres:  9.087597","rpct:  771.9157<br />prop_renda_40_pobres:  9.133152","rpct:  789.0647<br />prop_renda_40_pobres:  9.178707","rpct:  806.2137<br />prop_renda_40_pobres:  9.224262","rpct:  823.3627<br />prop_renda_40_pobres:  9.269817","rpct:  840.5116<br />prop_renda_40_pobres:  9.315372","rpct:  857.6606<br />prop_renda_40_pobres:  9.360927","rpct:  874.8096<br />prop_renda_40_pobres:  9.406482","rpct:  891.9586<br />prop_renda_40_pobres:  9.452037","rpct:  909.1076<br />prop_renda_40_pobres:  9.497592","rpct:  926.2566<br />prop_renda_40_pobres:  9.543147","rpct:  943.4056<br />prop_renda_40_pobres:  9.588702","rpct:  960.5546<br />prop_renda_40_pobres:  9.634257","rpct:  977.7035<br />prop_renda_40_pobres:  9.679812","rpct:  994.8525<br />prop_renda_40_pobres:  9.725367","rpct: 1012.0015<br />prop_renda_40_pobres:  9.770922","rpct: 1029.1505<br />prop_renda_40_pobres:  9.816477","rpct: 1046.2995<br />prop_renda_40_pobres:  9.862032","rpct: 1063.4485<br />prop_renda_40_pobres:  9.907587","rpct: 1080.5975<br />prop_renda_40_pobres:  9.953142","rpct: 1097.7465<br />prop_renda_40_pobres:  9.998697","rpct: 1114.8954<br />prop_renda_40_pobres: 10.044252","rpct: 1132.0444<br />prop_renda_40_pobres: 10.089807","rpct: 1149.1934<br />prop_renda_40_pobres: 10.135362","rpct: 1166.3424<br />prop_renda_40_pobres: 10.180917","rpct: 1183.4914<br />prop_renda_40_pobres: 10.226472","rpct: 1200.6404<br />prop_renda_40_pobres: 10.272027","rpct: 1217.7894<br />prop_renda_40_pobres: 10.317582","rpct: 1234.9384<br />prop_renda_40_pobres: 10.363137","rpct: 1252.0873<br />prop_renda_40_pobres: 10.408692","rpct: 1269.2363<br />prop_renda_40_pobres: 10.454247","rpct: 1286.3853<br />prop_renda_40_pobres: 10.499802","rpct: 1303.5343<br />prop_renda_40_pobres: 10.545357","rpct: 1320.6833<br />prop_renda_40_pobres: 10.590912","rpct: 1337.8323<br />prop_renda_40_pobres: 10.636467","rpct: 1354.9813<br />prop_renda_40_pobres: 10.682022","rpct: 1372.1303<br />prop_renda_40_pobres: 10.727577","rpct: 1389.2792<br />prop_renda_40_pobres: 10.773132","rpct: 1406.4282<br />prop_renda_40_pobres: 10.818687","rpct: 1423.5772<br />prop_renda_40_pobres: 10.864242","rpct: 1440.7262<br />prop_renda_40_pobres: 10.909797","rpct: 1457.8752<br />prop_renda_40_pobres: 10.955352","rpct: 1475.0242<br />prop_renda_40_pobres: 11.000907","rpct: 1492.1732<br />prop_renda_40_pobres: 11.046462","rpct: 1509.3222<br />prop_renda_40_pobres: 11.092017","rpct: 1526.4711<br />prop_renda_40_pobres: 11.137572","rpct: 1543.6201<br />prop_renda_40_pobres: 11.183127","rpct: 1560.7691<br />prop_renda_40_pobres: 11.228682","rpct: 1577.9181<br />prop_renda_40_pobres: 11.274237","rpct: 1595.0671<br />prop_renda_40_pobres: 11.319792","rpct: 1612.2161<br />prop_renda_40_pobres: 11.365347","rpct: 1629.3651<br />prop_renda_40_pobres: 11.410902","rpct: 1646.5141<br />prop_renda_40_pobres: 11.456457","rpct: 1663.6630<br />prop_renda_40_pobres: 11.502012","rpct: 1680.8120<br />prop_renda_40_pobres: 11.547567","rpct: 1697.9610<br />prop_renda_40_pobres: 11.593122","rpct: 1715.1100<br />prop_renda_40_pobres: 11.638677","rpct: 1715.1100<br />prop_renda_40_pobres: 11.638677","rpct: 1715.1100<br />prop_renda_40_pobres: 11.638677","rpct: 1697.9610<br />prop_renda_40_pobres: 11.593122","rpct: 1680.8120<br />prop_renda_40_pobres: 11.547567","rpct: 1663.6630<br />prop_renda_40_pobres: 11.502012","rpct: 1646.5141<br />prop_renda_40_pobres: 11.456457","rpct: 1629.3651<br />prop_renda_40_pobres: 11.410902","rpct: 1612.2161<br />prop_renda_40_pobres: 11.365347","rpct: 1595.0671<br />prop_renda_40_pobres: 11.319792","rpct: 1577.9181<br />prop_renda_40_pobres: 11.274237","rpct: 1560.7691<br />prop_renda_40_pobres: 11.228682","rpct: 1543.6201<br />prop_renda_40_pobres: 11.183127","rpct: 1526.4711<br />prop_renda_40_pobres: 11.137572","rpct: 1509.3222<br />prop_renda_40_pobres: 11.092017","rpct: 1492.1732<br />prop_renda_40_pobres: 11.046462","rpct: 1475.0242<br />prop_renda_40_pobres: 11.000907","rpct: 1457.8752<br />prop_renda_40_pobres: 10.955352","rpct: 1440.7262<br />prop_renda_40_pobres: 10.909797","rpct: 1423.5772<br />prop_renda_40_pobres: 10.864242","rpct: 1406.4282<br />prop_renda_40_pobres: 10.818687","rpct: 1389.2792<br />prop_renda_40_pobres: 10.773132","rpct: 1372.1303<br />prop_renda_40_pobres: 10.727577","rpct: 1354.9813<br />prop_renda_40_pobres: 10.682022","rpct: 1337.8323<br />prop_renda_40_pobres: 10.636467","rpct: 1320.6833<br />prop_renda_40_pobres: 10.590912","rpct: 1303.5343<br />prop_renda_40_pobres: 10.545357","rpct: 1286.3853<br />prop_renda_40_pobres: 10.499802","rpct: 1269.2363<br />prop_renda_40_pobres: 10.454247","rpct: 1252.0873<br />prop_renda_40_pobres: 10.408692","rpct: 1234.9384<br />prop_renda_40_pobres: 10.363137","rpct: 1217.7894<br />prop_renda_40_pobres: 10.317582","rpct: 1200.6404<br />prop_renda_40_pobres: 10.272027","rpct: 1183.4914<br />prop_renda_40_pobres: 10.226472","rpct: 1166.3424<br />prop_renda_40_pobres: 10.180917","rpct: 1149.1934<br />prop_renda_40_pobres: 10.135362","rpct: 1132.0444<br />prop_renda_40_pobres: 10.089807","rpct: 1114.8954<br />prop_renda_40_pobres: 10.044252","rpct: 1097.7465<br />prop_renda_40_pobres:  9.998697","rpct: 1080.5975<br />prop_renda_40_pobres:  9.953142","rpct: 1063.4485<br />prop_renda_40_pobres:  9.907587","rpct: 1046.2995<br />prop_renda_40_pobres:  9.862032","rpct: 1029.1505<br />prop_renda_40_pobres:  9.816477","rpct: 1012.0015<br />prop_renda_40_pobres:  9.770922","rpct:  994.8525<br />prop_renda_40_pobres:  9.725367","rpct:  977.7035<br />prop_renda_40_pobres:  9.679812","rpct:  960.5546<br />prop_renda_40_pobres:  9.634257","rpct:  943.4056<br />prop_renda_40_pobres:  9.588702","rpct:  926.2566<br />prop_renda_40_pobres:  9.543147","rpct:  909.1076<br />prop_renda_40_pobres:  9.497592","rpct:  891.9586<br />prop_renda_40_pobres:  9.452037","rpct:  874.8096<br />prop_renda_40_pobres:  9.406482","rpct:  857.6606<br />prop_renda_40_pobres:  9.360927","rpct:  840.5116<br />prop_renda_40_pobres:  9.315372","rpct:  823.3627<br />prop_renda_40_pobres:  9.269817","rpct:  806.2137<br />prop_renda_40_pobres:  9.224262","rpct:  789.0647<br />prop_renda_40_pobres:  9.178707","rpct:  771.9157<br />prop_renda_40_pobres:  9.133152","rpct:  754.7667<br />prop_renda_40_pobres:  9.087597","rpct:  737.6177<br />prop_renda_40_pobres:  9.042042","rpct:  720.4687<br />prop_renda_40_pobres:  8.996487","rpct:  703.3197<br />prop_renda_40_pobres:  8.950932","rpct:  686.1708<br />prop_renda_40_pobres:  8.905377","rpct:  669.0218<br />prop_renda_40_pobres:  8.859822","rpct:  651.8728<br />prop_renda_40_pobres:  8.814267","rpct:  634.7238<br />prop_renda_40_pobres:  8.768712","rpct:  617.5748<br />prop_renda_40_pobres:  8.723157","rpct:  600.4258<br />prop_renda_40_pobres:  8.677602","rpct:  583.2768<br />prop_renda_40_pobres:  8.632047","rpct:  566.1278<br />prop_renda_40_pobres:  8.586492","rpct:  548.9789<br />prop_renda_40_pobres:  8.540937","rpct:  531.8299<br />prop_renda_40_pobres:  8.495382","rpct:  514.6809<br />prop_renda_40_pobres:  8.449827","rpct:  497.5319<br />prop_renda_40_pobres:  8.404272","rpct:  480.3829<br />prop_renda_40_pobres:  8.358717","rpct:  463.2339<br />prop_renda_40_pobres:  8.313162","rpct:  446.0849<br />prop_renda_40_pobres:  8.267607","rpct:  428.9359<br />prop_renda_40_pobres:  8.222052","rpct:  411.7870<br />prop_renda_40_pobres:  8.176497","rpct:  394.6380<br />prop_renda_40_pobres:  8.130942","rpct:  377.4890<br />prop_renda_40_pobres:  8.085387","rpct:  360.3400<br />prop_renda_40_pobres:  8.039832","rpct:  360.3400<br />prop_renda_40_pobres:  8.039832"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(190,190,190,0.2)","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.2)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[522.14999999999998,432.56,539.79999999999995,598.98000000000002,496.73000000000002,460.63,1715.1099999999999,815.42999999999995,810.97000000000003,360.33999999999997,749.69000000000005,799.34000000000003,762.51999999999998,446.75999999999999,474.94,525.63999999999999,416.93000000000001,890.88999999999999,1039.3,545.41999999999996,670.82000000000005,605.59000000000003,959.24000000000001,983.89999999999998,523.52999999999997,1084.46,586.62],"y":[6.8899999999999997,7.6200000000000001,6.4000000000000004,7.8799999999999999,7.8600000000000003,8.1300000000000008,6.9800000000000004,10.34,11.24,7,10.66,10.41,10.66,7.6500000000000004,8.3200000000000003,7.9000000000000004,7.5499999999999998,11.52,9.3100000000000005,8.5999999999999996,10.02,6.4500000000000002,11.220000000000001,13.56,7.9800000000000004,10.66,8.4100000000000001],"text":["rpct:  522.15<br />prop_renda_40_pobres:  6.89<br />uf: AC<br />gini: 0.63<br />-gini: -0.63","rpct:  432.56<br />prop_renda_40_pobres:  7.62<br />uf: AL<br />gini: 0.63<br />-gini: -0.63","rpct:  539.80<br />prop_renda_40_pobres:  6.40<br />uf: AM<br />gini: 0.65<br />-gini: -0.65","rpct:  598.98<br />prop_renda_40_pobres:  7.88<br />uf: AP<br />gini: 0.60<br />-gini: -0.60","rpct:  496.73<br />prop_renda_40_pobres:  7.86<br />uf: BA<br />gini: 0.62<br />-gini: -0.62","rpct:  460.63<br />prop_renda_40_pobres:  8.13<br />uf: CE<br />gini: 0.61<br />-gini: -0.61","rpct: 1715.11<br />prop_renda_40_pobres:  6.98<br />uf: DF<br />gini: 0.63<br />-gini: -0.63","rpct:  815.43<br />prop_renda_40_pobres: 10.34<br />uf: ES<br />gini: 0.56<br />-gini: -0.56","rpct:  810.97<br />prop_renda_40_pobres: 11.24<br />uf: GO<br />gini: 0.55<br />-gini: -0.55","rpct:  360.34<br />prop_renda_40_pobres:  7.00<br />uf: MA<br />gini: 0.62<br />-gini: -0.62","rpct:  749.69<br />prop_renda_40_pobres: 10.66<br />uf: MG<br />gini: 0.56<br />-gini: -0.56","rpct:  799.34<br />prop_renda_40_pobres: 10.41<br />uf: MS<br />gini: 0.56<br />-gini: -0.56","rpct:  762.52<br />prop_renda_40_pobres: 10.66<br />uf: MT<br />gini: 0.55<br />-gini: -0.55","rpct:  446.76<br />prop_renda_40_pobres:  7.65<br />uf: PA<br />gini: 0.62<br />-gini: -0.62","rpct:  474.94<br />prop_renda_40_pobres:  8.32<br />uf: PB<br />gini: 0.61<br />-gini: -0.61","rpct:  525.64<br />prop_renda_40_pobres:  7.90<br />uf: PE<br />gini: 0.62<br />-gini: -0.62","rpct:  416.93<br />prop_renda_40_pobres:  7.55<br />uf: PI<br />gini: 0.61<br />-gini: -0.61","rpct:  890.89<br />prop_renda_40_pobres: 11.52<br />uf: PR<br />gini: 0.53<br />-gini: -0.53","rpct: 1039.30<br />prop_renda_40_pobres:  9.31<br />uf: RJ<br />gini: 0.59<br />-gini: -0.59","rpct:  545.42<br />prop_renda_40_pobres:  8.60<br />uf: RN<br />gini: 0.60<br />-gini: -0.60","rpct:  670.82<br />prop_renda_40_pobres: 10.02<br />uf: RO<br />gini: 0.56<br />-gini: -0.56","rpct:  605.59<br />prop_renda_40_pobres:  6.45<br />uf: RR<br />gini: 0.63<br />-gini: -0.63","rpct:  959.24<br />prop_renda_40_pobres: 11.22<br />uf: RS<br />gini: 0.54<br />-gini: -0.54","rpct:  983.90<br />prop_renda_40_pobres: 13.56<br />uf: SC<br />gini: 0.49<br />-gini: -0.49","rpct:  523.53<br />prop_renda_40_pobres:  7.98<br />uf: SE<br />gini: 0.62<br />-gini: -0.62","rpct: 1084.46<br />prop_renda_40_pobres: 10.66<br />uf: SP<br />gini: 0.56<br />-gini: -0.56","rpct:  586.62<br />prop_renda_40_pobres:  8.41<br />uf: TO<br />gini: 0.60<br />-gini: -0.60"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(27,58,87,1)","rgba(27,58,87,1)","rgba(19,43,67,1)","rgba(38,81,119,1)","rgba(30,66,97,1)","rgba(34,73,108,1)","rgba(27,58,87,1)","rgba(55,115,163,1)","rgba(59,123,175,1)","rgba(30,66,97,1)","rgba(55,115,163,1)","rgba(55,115,163,1)","rgba(59,123,175,1)","rgba(30,66,97,1)","rgba(34,73,108,1)","rgba(30,66,97,1)","rgba(34,73,108,1)","rgba(68,141,198,1)","rgba(42,90,130,1)","rgba(38,81,119,1)","rgba(55,115,163,1)","rgba(27,58,87,1)","rgba(64,132,187,1)","rgba(86,177,247,1)","rgba(30,66,97,1)","rgba(55,115,163,1)","rgba(38,81,119,1)"],"opacity":0.69999999999999996,"size":[21.456649071372951,21.456649071372951,22.677165354330711,19.448621056797165,20.813628073058219,20.145361961280731,21.456649071372951,16.279140052273664,15.35192004464494,20.813628073058219,16.279140052273664,16.279140052273664,15.35192004464494,20.813628073058219,20.145361961280731,20.813628073058219,20.145361961280731,13.228346456692918,18.719422016543518,19.448621056797165,16.279140052273664,21.456649071372951,14.343628240156491,3.7795275590551185,20.813628073058219,16.279140052273664,19.448621056797165],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(27,58,87,1)","rgba(27,58,87,1)","rgba(19,43,67,1)","rgba(38,81,119,1)","rgba(30,66,97,1)","rgba(34,73,108,1)","rgba(27,58,87,1)","rgba(55,115,163,1)","rgba(59,123,175,1)","rgba(30,66,97,1)","rgba(55,115,163,1)","rgba(55,115,163,1)","rgba(59,123,175,1)","rgba(30,66,97,1)","rgba(34,73,108,1)","rgba(30,66,97,1)","rgba(34,73,108,1)","rgba(68,141,198,1)","rgba(42,90,130,1)","rgba(38,81,119,1)","rgba(55,115,163,1)","rgba(27,58,87,1)","rgba(64,132,187,1)","rgba(86,177,247,1)","rgba(30,66,97,1)","rgba(55,115,163,1)","rgba(38,81,119,1)"]}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[522.14999999999998,432.56,539.79999999999995,598.98000000000002,496.73000000000002,460.63,1715.1099999999999,815.42999999999995,810.97000000000003,360.33999999999997,749.69000000000005,799.34000000000003,762.51999999999998,446.75999999999999,474.94,525.63999999999999,416.93000000000001,890.88999999999999,1039.3,545.41999999999996,670.82000000000005,605.59000000000003,959.24000000000001,983.89999999999998,523.52999999999997,1084.46,586.62],"y":[6.8899999999999997,7.6200000000000001,6.4000000000000004,7.8799999999999999,7.8600000000000003,8.1300000000000008,6.9800000000000004,10.34,11.24,7,10.66,10.41,10.66,7.6500000000000004,8.3200000000000003,7.9000000000000004,7.5499999999999998,11.52,9.3100000000000005,8.5999999999999996,10.02,6.4500000000000002,11.220000000000001,13.56,7.9800000000000004,10.66,8.4100000000000001],"text":["AC","AL","AM","AP","BA","CE","DF","ES","GO","MA","MG","MS","MT","PA","PB","PE","PI","PR","RJ","RN","RO","RR","RS","SC","SE","SP","TO"],"hovertext":["rpct:  522.15<br />prop_renda_40_pobres:  6.89<br />uf: AC","rpct:  432.56<br />prop_renda_40_pobres:  7.62<br />uf: AL","rpct:  539.80<br />prop_renda_40_pobres:  6.40<br />uf: AM","rpct:  598.98<br />prop_renda_40_pobres:  7.88<br />uf: AP","rpct:  496.73<br />prop_renda_40_pobres:  7.86<br />uf: BA","rpct:  460.63<br />prop_renda_40_pobres:  8.13<br />uf: CE","rpct: 1715.11<br />prop_renda_40_pobres:  6.98<br />uf: DF","rpct:  815.43<br />prop_renda_40_pobres: 10.34<br />uf: ES","rpct:  810.97<br />prop_renda_40_pobres: 11.24<br />uf: GO","rpct:  360.34<br />prop_renda_40_pobres:  7.00<br />uf: MA","rpct:  749.69<br />prop_renda_40_pobres: 10.66<br />uf: MG","rpct:  799.34<br />prop_renda_40_pobres: 10.41<br />uf: MS","rpct:  762.52<br />prop_renda_40_pobres: 10.66<br />uf: MT","rpct:  446.76<br />prop_renda_40_pobres:  7.65<br />uf: PA","rpct:  474.94<br />prop_renda_40_pobres:  8.32<br />uf: PB","rpct:  525.64<br />prop_renda_40_pobres:  7.90<br />uf: PE","rpct:  416.93<br />prop_renda_40_pobres:  7.55<br />uf: PI","rpct:  890.89<br />prop_renda_40_pobres: 11.52<br />uf: PR","rpct: 1039.30<br />prop_renda_40_pobres:  9.31<br />uf: RJ","rpct:  545.42<br />prop_renda_40_pobres:  8.60<br />uf: RN","rpct:  670.82<br />prop_renda_40_pobres: 10.02<br />uf: RO","rpct:  605.59<br />prop_renda_40_pobres:  6.45<br />uf: RR","rpct:  959.24<br />prop_renda_40_pobres: 11.22<br />uf: RS","rpct:  983.90<br />prop_renda_40_pobres: 13.56<br />uf: SC","rpct:  523.53<br />prop_renda_40_pobres:  7.98<br />uf: SE","rpct: 1084.46<br />prop_renda_40_pobres: 10.66<br />uf: SP","rpct:  586.62<br />prop_renda_40_pobres:  8.41<br />uf: TO"],"textfont":{"size":7.559055118110237,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[300],"y":[5],"name":"0de632d638ea29d49dd595fd6ba4ca7d","type":"scatter","mode":"markers","opacity":0,"hoverinfo":"skip","showlegend":false,"marker":{"color":[0,1],"colorscale":[[0,"#132B43"],[0.0033444816053510014,"#132B44"],[0.0066889632107020027,"#132C44"],[0.010033444816053698,"#142C45"],[0.013377926421404699,"#142D45"],[0.016722408026755699,"#142D46"],[0.020066889632106701,"#142D46"],[0.023411371237458397,"#142E47"],[0.026755852842809399,"#152E47"],[0.030100334448160397,"#152F48"],[0.033444816053511399,"#152F48"],[0.036789297658863095,"#152F49"],[0.040133779264214096,"#153049"],[0.043478260869565098,"#16304A"],[0.0468227424749161,"#16304A"],[0.050167224080267796,"#16314B"],[0.053511705685618798,"#16314B"],[0.056856187290969792,"#16324C"],[0.060200668896320794,"#17324D"],[0.06354515050167249,"#17324D"],[0.066889632107023492,"#17334E"],[0.070234113712374494,"#17334E"],[0.073578595317725495,"#17344F"],[0.076923076923077191,"#18344F"],[0.080267558528428193,"#183450"],[0.083612040133779195,"#183550"],[0.086956521739130196,"#183551"],[0.090301003344481892,"#183651"],[0.093645484949832894,"#193652"],[0.096989966555183896,"#193652"],[0.1003344481605349,"#193753"],[0.10367892976588659,"#193754"],[0.1070234113712376,"#193854"],[0.11036789297658858,"#1A3855"],[0.11371237458193958,"#1A3955"],[0.11705685618729128,"#1A3956"],[0.12040133779264228,"#1A3956"],[0.12374581939799328,"#1A3A57"],[0.12709030100334429,"#1B3A57"],[0.13043478260869598,"#1B3B58"],[0.13377926421404698,"#1B3B59"],[0.13712374581939799,"#1B3B59"],[0.14046822742474899,"#1C3C5A"],[0.14381270903010068,"#1C3C5A"],[0.14715719063545168,"#1C3D5B"],[0.15050167224080269,"#1C3D5B"],[0.15384615384615369,"#1C3D5C"],[0.15719063545150469,"#1D3E5C"],[0.16053511705685639,"#1D3E5D"],[0.16387959866220739,"#1D3F5D"],[0.16722408026755839,"#1D3F5E"],[0.17056856187290939,"#1D3F5F"],[0.17391304347826109,"#1E405F"],[0.17725752508361209,"#1E4060"],[0.18060200668896309,"#1E4160"],[0.18394648829431409,"#1E4161"],[0.18729096989966579,"#1E4261"],[0.19063545150501679,"#1F4262"],[0.19397993311036779,"#1F4263"],[0.19732441471571879,"#1F4363"],[0.20066889632107049,"#1F4364"],[0.20401337792642149,"#1F4464"],[0.20735785953177249,"#204465"],[0.21070234113712349,"#204465"],[0.21404682274247519,"#204566"],[0.21739130434782616,"#204566"],[0.22073578595317717,"#214667"],[0.22408026755852817,"#214668"],[0.22742474916387986,"#214768"],[0.23076923076923087,"#214769"],[0.23411371237458187,"#214769"],[0.23745819397993287,"#22486A"],[0.24080267558528456,"#22486A"],[0.24414715719063557,"#22496B"],[0.24749163879598657,"#22496C"],[0.25083612040133757,"#224A6C"],[0.25418060200668929,"#234A6D"],[0.2575250836120403,"#234A6D"],[0.2608695652173913,"#234B6E"],[0.2642140468227423,"#234B6E"],[0.2675585284280933,"#244C6F"],[0.27090301003344497,"#244C70"],[0.27424749163879597,"#244C70"],[0.27759197324414697,"#244D71"],[0.2809364548494987,"#244D71"],[0.2842809364548497,"#254E72"],[0.28762541806020064,"#254E72"],[0.29096989966555165,"#254F73"],[0.29431438127090265,"#254F74"],[0.29765886287625437,"#254F74"],[0.30100334448160537,"#265075"],[0.30434782608695637,"#265075"],[0.30769230769230738,"#265176"],[0.31103678929765904,"#265176"],[0.31438127090301005,"#275277"],[0.31772575250836105,"#275278"],[0.32107023411371205,"#275278"],[0.32441471571906377,"#275379"],[0.32775919732441477,"#275379"],[0.33110367892976578,"#28547A"],[0.33444816053511678,"#28547B"],[0.33779264214046845,"#28557B"],[0.34113712374581945,"#28557C"],[0.34448160535117045,"#28567C"],[0.34782608695652145,"#29567D"],[0.35117056856187318,"#29567D"],[0.35451505016722418,"#29577E"],[0.35785953177257518,"#29577F"],[0.36120401337792618,"#2A587F"],[0.36454849498327785,"#2A5880"],[0.36789297658862885,"#2A5980"],[0.37123745819397985,"#2A5981"],[0.37458193979933085,"#2A5982"],[0.37792642140468258,"#2B5A82"],[0.38127090301003358,"#2B5A83"],[0.38461538461538458,"#2B5B83"],[0.38795986622073558,"#2B5B84"],[0.39130434782608725,"#2C5C85"],[0.39464882943143825,"#2C5C85"],[0.39799331103678925,"#2C5D86"],[0.40133779264214026,"#2C5D86"],[0.40468227424749126,"#2C5D87"],[0.40802675585284298,"#2D5E87"],[0.41137123745819398,"#2D5E88"],[0.41471571906354499,"#2D5F89"],[0.41806020066889665,"#2D5F89"],[0.42140468227424766,"#2E608A"],[0.42474916387959866,"#2E608A"],[0.42809364548494966,"#2E618B"],[0.43143812709030066,"#2E618C"],[0.43478260869565233,"#2E618C"],[0.43812709030100333,"#2F628D"],[0.44147157190635433,"#2F628D"],[0.44481605351170606,"#2F638E"],[0.44816053511705706,"#2F638F"],[0.45150501672240806,"#30648F"],[0.45484949832775906,"#306490"],[0.45819397993311006,"#306590"],[0.46153846153846173,"#306591"],[0.46488294314381273,"#306592"],[0.46822742474916373,"#316692"],[0.47157190635451474,"#316693"],[0.47491638795986646,"#316793"],[0.47826086956521746,"#316794"],[0.48160535117056846,"#326895"],[0.48494983277591946,"#326895"],[0.48829431438127113,"#326996"],[0.49163879598662213,"#326996"],[0.49498327759197314,"#326997"],[0.49832775919732414,"#336A98"],[0.50167224080267581,"#336A98"],[0.50501672240802686,"#336B99"],[0.50836120401337781,"#336B99"],[0.51170568561872887,"#346C9A"],[0.51505016722408059,"#346C9B"],[0.51839464882943154,"#346D9B"],[0.52173913043478259,"#346D9C"],[0.52508361204013354,"#346E9D"],[0.52842809364548526,"#356E9D"],[0.53177257525083621,"#356E9E"],[0.53511705685618727,"#356F9E"],[0.53846153846153821,"#356F9F"],[0.54180602006688927,"#3670A0"],[0.54515050167224099,"#3670A0"],[0.54849498327759194,"#3671A1"],[0.551839464882943,"#3671A1"],[0.55518394648829461,"#3772A2"],[0.55852842809364567,"#3772A3"],[0.56187290969899661,"#3773A3"],[0.56521739130434767,"#3773A4"],[0.56856187290969862,"#3773A4"],[0.57190635451505034,"#3874A5"],[0.57525083612040129,"#3874A6"],[0.57859531772575234,"#3875A6"],[0.58193979933110407,"#3875A7"],[0.58528428093645501,"#3976A8"],[0.58862876254180607,"#3976A8"],[0.59197324414715702,"#3977A9"],[0.59531772575250808,"#3977A9"],[0.59866220735785969,"#3978AA"],[0.60200668896321075,"#3A78AB"],[0.60535117056856169,"#3A79AB"],[0.60869565217391275,"#3A79AC"],[0.61204013377926447,"#3A79AC"],[0.61538461538461542,"#3B7AAD"],[0.61872909698996648,"#3B7AAE"],[0.62207357859531742,"#3B7BAE"],[0.62541806020066915,"#3B7BAF"],[0.62876254180602009,"#3C7CB0"],[0.63210702341137115,"#3C7CB0"],[0.6354515050167221,"#3C7DB1"],[0.63879598662207382,"#3C7DB1"],[0.64214046822742488,"#3C7EB2"],[0.64548494983277582,"#3D7EB3"],[0.64882943143812688,"#3D7FB3"],[0.65217391304347849,"#3D7FB4"],[0.65551839464882955,"#3D7FB5"],[0.6588628762541805,"#3E80B5"],[0.66220735785953155,"#3E80B6"],[0.66555183946488328,"#3E81B6"],[0.66889632107023422,"#3E81B7"],[0.67224080267558528,"#3F82B8"],[0.67558528428093623,"#3F82B8"],[0.67892976588628728,"#3F83B9"],[0.6822742474916389,"#3F83BA"],[0.68561872909698995,"#4084BA"],[0.6889632107023409,"#4084BB"],[0.69230769230769262,"#4085BB"],[0.69565217391304368,"#4085BC"],[0.69899665551839463,"#4086BD"],[0.70234113712374568,"#4186BD"],[0.70568561872909663,"#4186BE"],[0.70903010033444835,"#4187BF"],[0.7123745819397993,"#4187BF"],[0.71571906354515036,"#4288C0"],[0.71906354515050197,"#4288C1"],[0.72240802675585303,"#4289C1"],[0.72575250836120397,"#4289C2"],[0.72909698996655503,"#438AC2"],[0.73244147157190598,"#438AC3"],[0.7357859531772577,"#438BC4"],[0.73913043478260876,"#438BC4"],[0.7424749163879597,"#438CC5"],[0.74581939799331143,"#448CC6"],[0.74916387959866237,"#448DC6"],[0.75250836120401343,"#448DC7"],[0.75585284280936438,"#448EC8"],[0.75919732441471544,"#458EC8"],[0.76254180602006716,"#458FC9"],[0.76588628762541811,"#458FC9"],[0.76923076923076916,"#458FCA"],[0.77257525083612011,"#4690CB"],[0.77591973244147183,"#4690CB"],[0.77926421404682278,"#4691CC"],[0.78260869565217384,"#4691CD"],[0.78595317725752478,"#4792CD"],[0.78929765886287584,"#4792CE"],[0.79264214046822756,"#4793CF"],[0.79598662207357851,"#4793CF"],[0.79933110367892957,"#4894D0"],[0.80267558528428118,"#4894D0"],[0.80602006688963224,"#4895D1"],[0.80936454849498318,"#4895D2"],[0.81270903010033424,"#4896D2"],[0.81605351170568519,"#4996D3"],[0.81939799331103691,"#4997D4"],[0.82274247491638797,"#4997D4"],[0.82608695652173891,"#4998D5"],[0.82943143812709064,"#4A98D6"],[0.83277591973244158,"#4A99D6"],[0.83612040133779264,"#4A99D7"],[0.83946488294314359,"#4A9AD8"],[0.84280936454849464,"#4B9AD8"],[0.84615384615384637,"#4B9BD9"],[0.84949832775919731,"#4B9BDA"],[0.85284280936454837,"#4B9BDA"],[0.85618729096989998,"#4C9CDB"],[0.85953177257525104,"#4C9CDB"],[0.86287625418060199,"#4C9DDC"],[0.86622073578595304,"#4C9DDD"],[0.86956521739130399,"#4D9EDD"],[0.87290969899665571,"#4D9EDE"],[0.87625418060200666,"#4D9FDF"],[0.87959866220735772,"#4D9FDF"],[0.88294314381270944,"#4DA0E0"],[0.88628762541806039,"#4EA0E1"],[0.88963210702341144,"#4EA1E1"],[0.89297658862876239,"#4EA1E2"],[0.89632107023411345,"#4EA2E3"],[0.89966555183946506,"#4FA2E3"],[0.90301003344481612,"#4FA3E4"],[0.90635451505016706,"#4FA3E5"],[0.90969899665551879,"#4FA4E5"],[0.91304347826086985,"#50A4E6"],[0.91638795986622079,"#50A5E7"],[0.91973244147157185,"#50A5E7"],[0.9230769230769228,"#50A6E8"],[0.92642140468227452,"#51A6E8"],[0.92976588628762546,"#51A7E9"],[0.93311036789297652,"#51A7EA"],[0.93645484949832747,"#51A8EA"],[0.93979933110367886,"#52A8EB"],[0.94314381270903025,"#52A9EC"],[0.9464882943143812,"#52A9EC"],[0.94983277591973225,"#52AAED"],[0.95317725752508353,"#53AAEE"],[0.95652173913043492,"#53ABEE"],[0.95986622073578587,"#53ABEF"],[0.96321070234113693,"#53ACF0"],[0.96655518394648821,"#54ACF0"],[0.9698996655518396,"#54ADF1"],[0.97324414715719065,"#54ADF2"],[0.9765886287625416,"#54AEF2"],[0.97993311036789299,"#55AEF3"],[0.98327759197324427,"#55AFF4"],[0.98662207357859533,"#55AFF4"],[0.98996655518394627,"#55B0F5"],[0.99331103678929766,"#56B0F6"],[0.99665551839464905,"#56B1F6"],[1,"#56B1F7"]],"colorbar":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"thickness":23.039999999999996,"title":"Índice Gini","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickmode":"array","ticktext":["-0.65","-0.60","-0.55","-0.50"],"tickvals":[0.0016666666666666668,0.31312500000000015,0.62458333333333316,0.93604166666666666],"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"ticklen":2,"len":0.5}},"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826491,"l":48.949771689497723},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Desigualdade de renda por UF","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[292.60149999999999,1782.8484999999998],"tickmode":"array","ticktext":["300","600","900","1200","1500"],"tickvals":[300,600,900,1200,1500],"categoryorder":"array","categoryarray":["300","600","900","1200","1500"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Média da Renda Per Capta (R$)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[4.5,15.5],"tickmode":"array","ticktext":["5.0","7.5","10.0","12.5","15.0"],"tickvals":[5,7.5,10,12.5,15],"categoryorder":"array","categoryarray":["5.0","7.5","10.0","12.5","15.0"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Proporção da renda acumulada pelos 40% Mais Pobres","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Índice Gini<br />Índice Gini","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"8e1c7f367b6e":{"x":{},"y":{},"label":{},"type":"scatter"},"8e1c231d7af7":{"x":{},"y":{},"label":{},"size":{},"colour":{}},"8e1c5ae34821":{"x":{},"y":{},"label":{}}},"cur_data":"8e1c7f367b6e","visdat":{"8e1c7f367b6e":["function (y) ","x"],"8e1c231d7af7":["function (y) ","x"],"8e1c5ae34821":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./class03.html" class="pagination-link" aria-label="Capítulo 3">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Capítulo 3</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./references.html" class="pagination-link" aria-label="Referências">
        <span class="nav-page-text">Referências</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>